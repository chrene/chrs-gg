---
import Layout from '~/layouts/PageLayout.astro';

import Header from '~/components/widgets/Header.astro';
import Hero from '~/components/widgets/Hero.astro';
import Content from '~/components/widgets/Content.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Features3 from '~/components/widgets/Features3.astro';
import Steps from '~/components/widgets/Steps.astro';
import BlogLatestPosts from '~/components/widgets/BlogLatestPosts.astro';
import { getPermalink } from '~/utils/permalinks';

const metadata = {
  title: 'Christian Enevoldsen — Portfolio',
};
---

<Layout metadata={metadata}>
  <Fragment slot="announcement"></Fragment>

  <Fragment slot="header">
    <Header
      links={[
        { text: 'Home', href: '#' },
        { text: 'About', href: '#about' },
        { text: 'Resume', href: '#resume' },
        { text: 'Projects', href: '#projects' },
        { text: 'Blog', href: '#blog' },
        { text: 'GitHub', href: 'https://github.com/chrene' },
      ]}
      actions={[
        {
          text: 'Contact',
          href: getPermalink('/contact#form'),
        },
      ]}
      isSticky
      showToggleTheme
    />
  </Fragment>

  <Hero
    id="hero"
    title="Christian Enevoldsen"
    tagline="Software Developer"
    actions={[{ variant: 'primary', text: 'Get in touch', href: getPermalink('/contact#form') }]}
  >
    <Fragment slot="subtitle">
      I build digital products with thoughtful UX and modern tech.<br />
      Whether it's a SaaS, a micro startup, or a personal tool, I enjoy building things that solve real problems.
    </Fragment>
  </Hero>

  <Content
    id="about"
    columns={2}
    items={[
      {
        icon: 'tabler:brand-github',
        callToAction: {
          target: '_blank',
          text: 'GitHub',
          href: 'https://github.com/chrene',
        },
      },
      {
        icon: 'tabler:brand-linkedin',
        callToAction: {
          target: '_blank',
          text: 'LinkedIn',
          href: 'https://linkedin.com/in/christianenevoldsen',
        },
      },
    ]}
    image={{
      src: 'https://avatars.githubusercontent.com/u/000000?v=4',
      alt: 'Christian Enevoldsen avatar',
      loading: 'eager',
    }}
  >
    <Fragment slot="content">
      <h2 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">About me</h2>
      <p>
        I'm a self-taught software developer from Denmark with a passion for clean design, functional UX, and smart
        architecture. I've worked across the stack and enjoy launching solo side projects.
      </p>
      <br />
      <p>
        I'm particularly interested in Angular, Astro, TypeScript, and RxJS, and I'm always exploring ways to simplify
        complex problems.
      </p>
    </Fragment>
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-neutral-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <Steps
    id="resume"
    title="Experience"
    items={[
      {
        title: 'Software Developer — LuggageHero <br /> <span class="text-sm font-normal">2021 - Present</span>',
        description: `Building scalable booking and logistics features for a global storage network. Focused on frontend architecture, state management with RxJS, and improving performance and UX.`,
        icon: 'tabler:briefcase',
      },
      {
        title: 'Freelancer / Indie Dev <br /> <span class="text-sm font-normal">2019 - 2021</span>',
        description: `Launched and maintained several micro SaaS products and experiments. Managed the full stack from deployment to payment integration.`,
        icon: 'tabler:rocket',
      },
    ]}
    classes={{ container: 'max-w-3xl' }}
  />

  <Steps
    id="resume"
    title="Education"
    items={[
      {
        title: 'Self-Taught Developer <br /> <span class="text-sm font-normal">2016 - Present</span>',
        icon: 'tabler:school',
      },
    ]}
    classes={{ container: 'max-w-3xl' }}
  />

  <Features3
    title="Tech Stack"
    subtitle="Here are the tools and technologies I work with regularly."
    columns={3}
    defaultIcon="tabler:point-filled"
    items={[
      { title: 'TypeScript', description: 'My go-to language for all serious projects.' },
      { title: 'Angular', description: 'Framework of choice for large applications.' },
      { title: 'Astro & SSG', description: 'Love for static-first, content-focused sites.' },
      { title: 'RxJS', description: 'Powerful state management and async handling.' },
      { title: 'Tailwind CSS', description: 'Efficient and expressive styling.' },
      { title: 'Node.js', description: 'Server-side logic and API building.' },
    ]}
  />

  <Content
    id="projects"
    title="Projects"
    subtitle="A few things I've built or am building."
    isReversed
    items={[
      {
        title: 'Indie Micro SaaS',
        description:
          'A productivity tool built for indie makers. Handles Stripe billing, cron jobs, and has a minimalist UX.',
      },
      {
        title: 'Portfolio Engine',
        description: 'Built with Astro + Tailwind + Markdown collections. Open source and used by multiple devs.',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1526378722484-bd91ca387e72?auto=format&fit=crop&w=928&q=80',
      alt: 'Developer project preview',
    }}
    callToAction={{
      target: '_blank',
      text: 'View on GitHub',
      icon: 'tabler:chevron-right',
      href: 'https://github.com/chrene',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">Side Projects & Experiments</h3>
    </Fragment>
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-neutral-100 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <CallToAction
    title="Let's work together"
    subtitle="Have an idea or need help with a project?"
    actions={[
      {
        variant: 'primary',
        text: 'Contact me',
        href: getPermalink('/contact#form'),
      },
    ]}
  />

  <BlogLatestPosts
    id="blog"
    title="Latest posts from the blog"
    information={`Occasional write-ups on dev topics, project retros, and ideas from the indie dev world.`}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-neutral-50 dark:bg-transparent"></div>
    </Fragment>
  </BlogLatestPosts>
</Layout>
